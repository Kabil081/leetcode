class Solution{
    public int[] exclusiveTime(int n, List<String> logs) {
        int ans[]=new int[n];
        int prevTime=0;
        Stack<Integer> stack=new Stack<>();
        for(String str:logs){
            String splits[]=str.split(":");
            int fun=Integer.parseInt(splits[0]);
            int time=Integer.parseInt(splits[2]);
            if(splits[1].equals("start")){
                if(!stack.isEmpty()){
                    ans[stack.peek()]+=time-prevTime;
                }
                stack.push(fun);
                prevTime=time;
            }else{
                ans[stack.pop()]+=time-prevTime+1;
                prevTime=time+1;
            }
        }
        return ans;
    }
}
