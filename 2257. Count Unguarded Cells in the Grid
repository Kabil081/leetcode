class Solution{
    public int countUnguarded(int m, int n, int[][] guards, int[][] walls){
        char board[][]=new char[m][n];
        for(int i=0;i<m;i++){
            for(int j=0;j<n;j++){
                board[i][j]='n';
            }
        }
        int dir[][]={{-1,0},{0,1},{1,0},{0,-1}};
        for(int wall[]:walls) board[wall[0]][wall[1]]='w';
        for(int guard[]:guards) board[guard[0]][guard[1]]='g';
        for(int i=0;i<m;i++){
            for(int j=0;j<n;j++){
                if(board[i][j]!='g') continue;
                for(int k=0;k<4;k++){
                    int x=i+dir[k][0];
                    int y=j+dir[k][1];
                    while(x>=0 && y>=0 && x<m && y<n && board[x][y]!='g' && board[x][y]!='w'){
                        board[x][y]='y';
                        x=x+dir[k][0];
                        y=y+dir[k][1];
                    }
                }
            }
        }
        int count=0;
        for(int i=0;i<m;i++){
            for(int j=0;j<n;j++){
                if(board[i][j]=='n') count++;
            }
        }
        return count;
    }
}
